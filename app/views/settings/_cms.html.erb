<%  @pages = Page.all
    @parts = Part.all
    @cms_menus = CmsMenu.all %>

<% cms_tabs = [{:name => 'general', :partial => 'settings/cms_general', :label => :label_general},
        {:name => 'custom_layout', :partial => 'settings/cms_custom_layout', :label => :label_cms_custom_layout},
        {:name => 'pages', :partial => 'pages/pages', :label => :label_cms_page_plural},
        {:name => 'cms_menus', :partial => 'cms_menus/index', :label => :label_cms_menu_plural},
        {:name => 'parts', :partial => 'parts/parts', :label => :label_cms_part_plural}
        ]   %>

<%= render_tabs cms_tabs %>


<% html_title(l(:label_cms)) -%>

<% content_for :header_tags do %>
  <%= javascript_include_tag 'codemirror/codemirror', :plugin => 'redmine_cms'  %>
  <%= javascript_include_tag 'codemirror/emmet', :plugin => 'redmine_cms'  %>
  <%= javascript_include_tag 'codemirror/addon/mode/overlay', :plugin => 'redmine_cms'  %>
  <%= javascript_include_tag 'codemirror/addon/search/search', :plugin => 'redmine_cms'  %>
  <%= javascript_include_tag 'codemirror/addon/search/searchcursor', :plugin => 'redmine_cms'  %>
  <%= javascript_include_tag 'codemirror/addon/dialog/dialog', :plugin => 'redmine_cms'  %>
  <%= javascript_include_tag 'codemirror/mode/htmlmixed/htmlmixed', :plugin => 'redmine_cms'  %>
  <%= javascript_include_tag 'codemirror/mode/css/css', :plugin => 'redmine_cms'  %>
  <%= javascript_include_tag 'codemirror/mode/xml/xml', :plugin => 'redmine_cms'  %>
  <%= javascript_include_tag 'codemirror/mode/javascript/javascript', :plugin => 'redmine_cms'  %>
  <%= javascript_include_tag 'redmine_cms', :plugin => 'redmine_cms'  %>
  <%= stylesheet_link_tag 'codemirror/codemirror', :plugin => 'redmine_cms'  %>
  <%= stylesheet_link_tag 'codemirror/theme/ambiance', :plugin => 'redmine_cms'  %>
<% end %>
